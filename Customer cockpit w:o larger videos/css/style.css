body {
    font-family: 'Inter', sans-serif;
    background-color: #f8fafc; /* slate-50 */
}
.shyftplan-purple { color: #6f42c1; }
.bg-shyftplan-purple { background-color: #6f42c1; }
.border-shyftplan-purple { border-color: #6f42c1; }
.ring-shyftplan-purple { ring-color: #6f42c1; }

/* Custom scrollbar for a cleaner look */
::-webkit-scrollbar { width: 8px; }
::-webkit-scrollbar-track { background: #f1f5f9; }
::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
::-webkit-scrollbar-thumb:hover { background: #94a3b8; }

/* Smooth scrolling */
html { scroll-behavior: smooth; }

/* Accordion icon transition */
.accordion-button > svg, .sidebar-accordion-button svg, .checklist-accordion-toggle svg { transition: transform 0.3s ease-in-out; }
.accordion-button[aria-expanded="true"] > svg, .sidebar-accordion-button[aria-expanded="true"] svg, .checklist-accordion-toggle[aria-expanded="true"] svg { transform: rotate(180deg); }

/* Main content transition */
/* Tailwind aspect-ratio plugin classes for video embedding */
.aspect-w-16 { position: relative; padding-bottom: 56.25%; }
.aspect-h-9 { }
.aspect-w-16 > * { position: absolute; height: 100%; width: 100%; top: 0; right: 0; bottom: 0; left: 0; }


.main-content-section {
    display: none;
    animation: fadeIn 0.5s ease-in-out;
}
.main-content-section.active {
    display: block;
}
@keyframes fadeIn {
    from { opacity: 0; transform: translateY(10px); }
    to { opacity: 1; transform: translateY(0); }
}

/* Nav active state */
.nav-link.active {
    background-color: #ede9fe; /* violet-100 */
    color: #6f42c1;
    font-weight: 600;
}
.nav-link.active svg {
    color: #6f42c1;
}

/* Gantt Chart Styling */
.gantt-chart-grid {
    display: grid;
    grid-template-columns: 150px repeat(12, 1fr);
    gap: 4px;
}
.gantt-header { text-align: center; font-size: 0.75rem; color: #64748b; }
.gantt-label { font-weight: 500; font-size: 0.875rem; padding-right: 1rem; text-align: right; }
.gantt-bar {
    grid-column: var(--start) / var(--end);
    border-radius: 0.375rem; padding: 0.25rem 0.5rem;
    color: white; font-size: 0.75rem; font-weight: 500;
    white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}

/* Collapsible Sidebar Styles */
aside {
    transition: width 0.3s ease-in-out;
}
aside.is-collapsed {
    width: 5rem; /* 80px */
}
aside.is-collapsed #sidebar-logo-container {
    position: relative; /* Make it a positioning context for the absolute logo */
    justify-content: center; /* Center the fallback icon if the image fails */
}
aside.is-collapsed #sidebar-logo-container img {
    /* Decouple the logo from the container's width animation */
    position: absolute;
    left: 1.5rem; /* 24px, same as original padding */
    top: 50%;
    transform: translateY(-50%); /* Vertical centering */
    height: 2rem; /* 32px, same as original h-8. This is our base size. */
    width: 150px; /* Set a fixed large width to allow for cropping. */
    max-width: none; /* Crucial: Prevents Tailwind's max-width: 100% from shrinking the logo. */
    object-fit: cover; /* Ensure the image covers the area without distortion. */
    object-position: left; /* Align the image to the left before cropping. */
    clip-path: inset(0 80% 0 0); /* The key: Crop 80% from the right, showing only the leftmost 20%. */
}
aside.is-collapsed .sidebar-text {
    display: none;
}
aside.is-collapsed .nav-link,
aside.is-collapsed .sidebar-accordion-button {
    justify-content: center;
}
aside.is-collapsed .sidebar-accordion-content {
    display: none !important;
}
aside.is-collapsed .sidebar-accordion {
    display: none;
}
aside.is-collapsed .nav-link i,
aside.is-collapsed .sidebar-accordion-button i:last-child {
    margin-right: 0;
    transform: scale(1.8) !important; /* Force icon size to 1.8x */
    transform-origin: center !important; /* Ensure scaling focuses on the center */
    width: 2.5rem !important; /* Explicit width for icons */
    height: 2.5rem !important; /* Explicit height for icons */
    max-width: none !important; /* Disable autoscaling */
    max-height: none !important; /* Disable autoscaling */
}

/* Presentation Mode Styles */
body.presentation-active {
    overflow: hidden;
}

/* Video Modal Transitions */
#video-modal {
    opacity: 0;
}
#video-modal.opacity-100 { opacity: 1; }
#video-modal-content {
    transform: scale(0.95);
}
#video-modal-content.scale-100 { transform: scale(1); }

/* Role-based sidebar visibility */
body[data-app-mode="superadmin"] .non-superadmin-only {
    display: none;
}

body[data-app-mode="normal"] .superadmin-only,
body[data-app-mode="readonly"] .superadmin-only {
    display: none;
}

body[data-app-mode="normal"] .non-superadmin-only,
body[data-app-mode="readonly"] .non-superadmin-only {
    display: block;
}
body:not([data-app-mode="superadmin"]) aside.is-collapsed .nav-link i {
    margin-right: 0;
}
